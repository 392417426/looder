<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <script type="text/javascript" src="js/jquery2.0.js"></script>
    <style>
        .box{width:200px;height:143px;background: #ff0000;position: relative;overflow:hidden;margin-top:100px;}
        .div{width:150px;position:absolute;}
        .btn-scroll{width:20px;height:49px;background: #000;position:absolute;right:0;top:0;cursor: padding:pointer; }
    </style>
</head>
<body>
    <div class="box">
        <div class="div">
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
            <p>131654312</p>
        </div>

        <div class="btn-scroll"></div>
    </div>
    <script type="text/javascript">

        $(function(){
            var isPress = false;
            var isEnter = false;
            var mouseY;
            var $scrollP;

            var $contentHA = $('.div').height() - $('.box').height();

            if($contentHA <= 0){
                $('.btn-scroll').hide();
            }
            $('.btn-scroll').on({
                'mousedown' : function(e){
                    isPress = true;
                    mouseY = e.pageY;
                    console.log('mouseY :' + mouseY);
                    $scrollP = $('.btn-scroll').position().top;

                },
                'mousemove': function(e) {

                    if(isPress && isEnter){
                        var mouseYnow = e.pageY;

                        var mValue = mouseYnow - mouseY + $scrollP;
                        var pHeight = $('.box').height() - $('.btn-scroll').height();
                        var per = mValue / pHeight;
                        if(per > 1){
                            per = 1;
                        }
                        if(per < 0){
                            per = 0;
                        }
                        var $contentH = -$contentHA * per;
                        if(mValue >= 0 && mValue <= pHeight){
                            $('.btn-scroll').css("top",mValue);
                            $('.div').css("top",$contentH);
                        }
                        if(mValue < 0){
                            mValue = 0;
                            $('.btn-scroll').css("top","0");
                            $('.div').css("top","0");
                        }
                        if(mValue > pHeight){
                            mValue = pHeight;
                            $('.btn-scroll').css("top",pHeight);
                            $('.div').css("top",-$contentHA);
                        }

                    }
                },
                'mouseenter': function() {
                    isEnter = true;
                },
                'mouseleave' : function(){
                    isPress = false;
                    isEnter = false;

                },
                'mouseup': function() {
                    isPress = false;

                }

            });
        });
    </script>
</body>
</html>